
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Как создать парсер?</title>
    <link rel="stylesheet" href="CSS.css">
    <!-- Yandex.RTB -->
<script>window.yaContextCb=window.yaContextCb||[]</script>
<script src="https://yandex.ru/ads/system/context.js" async></script>
  </head>
<style>
   body {
    font-family: Inter,Helvetica,Arial,sans-serif;
   } 
  </style>
  <body  style="
    height: 4700px;
">
  <!-- Yandex.RTB R-A-2255536-2 -->
<div id="yandex_rtb_R-A-2255536-2"></div>
<script>window.yaContextCb.push(()=>{
  Ya.Context.AdvManager.render({
    renderTo: 'yandex_rtb_R-A-2255536-2',
    blockId: 'R-A-2255536-2'
  })
})</script>
  <form>
  <input type="text" placeholder="Искать здесь..." style="margin-left: 400px" ;>
  <button type="submit" style="
    padding-left: 3px;
    left: 660px;
    "></button>
</form>
  <div class = "words">
<div class = "sidenav">
    <ul class = "top-menu">
		<header style="text-decoration: none;" style="color: #rrggbb"><font color="white" ><h1 style="
    border-top-width: 54px;
    width: 200px;
    height: 20px;
">Prog</h1></font></header>
		<div class = "header2" style="margin-left: 60px;" style="color: #rrggbb" ><font color="white"><h1 style="
    height: 40px;
    width: 160px;
    padding-left: 10px;
    padding-top: 0px;
    padding-bottom: 10px;
    padding-right: 10px;
">Network!</h1></font></div>
	   <li><a href="#">Домашняя страница</a></li>
        <li><a href="#">Проекты</a></li>
        <li><a href="#">Контакты</a></li>
      </ul>
	</div>
    <!-- Здесь основное содержимое нашей страницы -->
    <main>
      <!-- Она содержит статью -->
      <article>
        <h1 style="margin-top:23px">Как парсить сайты и для чего это нужно?</h1>
		<img src="https://www.digiseller.ru/preview/550650/p1_2695441_6307a7be.jpg" width="900" height="450" style="
    margin-left: 20px;">
        <p>Всем привет! Сегодня сегодня мы поговорим о том как сделать парсер сайтов на python,+ мы поговорим о том как мы можем внедрить парсер в Telegram бота.</p>
        <h3>Начало</h3>
        <p>Наша работа будет разделена на 2 части:</p>
		<ul>
			<li>В 1 части мы будем писать парсер.
			<li>В 2 части мы этот парсер внедрим в Telegram бота.
		</ul>
        <h3>Часть 1</h3>
		<p>Для начала определимся с тем, что будем парсить. Я подобрал отличный сайт который мог бы отлично подойти под парсинг. И так как я студент колледжа которому принадлежит этот сайт, мне значительно легче и удобнее будет автоматизировать сбор расписания на неделю.</p>
		
		<img src="https://ic.wampi.ru/2023/03/21/2023-03-19_13-13-04.png" width="1000" height="550" style="
    margin-left: 20px;">
	<p>Так что... ПОЕХАЛИ! Мы будем ипользовать две библиотеки: BeautifulSoup и requests</p>
	<p>Кратко о библиотеках:</p>
	<ul>
		<li>BeautifulSoup и requests - это библиотеки для языка Python, которые используются для получения данных из Интернета.
		<li>Requests - это библиотека, которая облегчает выполнение HTTP-запросов и управление сеансами. Это означает, что requests позволяет вашему коду получать страницы, изображения и другой контент с Интернета.
		<li>BeautifulSoup - это библиотека для парсинга HTML-кода. Она позволяет коду извлекать конкретные элементы HTML-разметки из веб-страницы и далее обрабатывать их. Пример использования BeautifulSoup - извлечение текста, ссылок и других элементов из HTML-страницы.
	</ul>
	<p>Мы импортируем библиотеки которые на понадобятся для парсинга.</p>
		<img src="<img src="https://ic.wampi.ru/2023/04/03/imageb7f0e7fd5de9d559.png" width="750" height="80" style="
    margin-left: 20px;">
	
	<p></p>
	<p>Теперь наша задача отправить get запрос на сайт и зайти в классы в которых мы можем найти нужные нам файлы.</p>
		<img src="https://ray.so/#code=cmVzcCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9jb2xsZWdldHNhcml0c3luby5tc2tvYnIucnUvdWNoYXNoaW1zeWEvcmFzcGlzYW5pZS1rYW5pa3VseSIpCmJzID0gQlMocmVzcC50ZXh0LCAiaHRtbC5wYXJzZXIiKQpjbCA9IGJzLmZpbmQoImRpdiIsIGNsYXNzXyA9ICJmb2xkZXJzIikKY2wxID0gY2wuZmluZF9hbGwoImxpIiwgY2xhc3NfID0gInBkZiIp&theme=midnight&background=true&darkMode=true&language=python&width=908" width="790" height="280" style="margin-left: 20px;">
<p>Теперь мы фильтруем файлы и если файлы с текстовым описанием не "Расписание 1 курс", то мы их пропускаем. А если файл нам подходит, то мы его сохраняем в качестве ссылки на сам файл. И уже в будущем мы сохраняем файл.</p>
		<img src="https://ray.so/#code=IyDQptC40LrQuyDQv9C-INC90LDQudC00LXQvdC90YvQvCDRjdC70LXQvNC10L3RgtCw0LwgbGkg0YEg0LrQu9Cw0YHRgdC-0LwgcGRmCmZvciBpIGluIGNsMToKICAgICMg0J_RgNC-0LLQtdGA0Y_QtdC8LCDRgdC-0LTQtdGA0LbQuNGCINC70Lgg0YLQtdC60YHRgiDRjdC70LXQvNC10L3RgtCwINGB0YLRgNC-0LrRgyAi0KDQsNGB0L_QuNGB0LDQvdC40LUg0YPRh9C10LHQvdGL0YUg0LfQsNC90Y_RgtC40LkgMSDQutGD0YDRgSDRgSIKICAgIGlmICLQoNCw0YHQv9C40YHQsNC90LjQtSDRg9GH0LXQsdC90YvRhSDQt9Cw0L3Rj9GC0LjQuSAxINC60YPRgNGBINGBIiBpbiBpLnRleHQ6CiAgICAgICAgIyDQn9C-0LvRg9GH0LDQtdC8INGB0YHRi9C70LrRgyDQvdCwIFBERiDRhNCw0LnQuyDQuNC3INCw0YLRgNC40LHRg9GC0LAgaHJlZiDRgdGB0YvQu9C60LgKICAgICAgICBwZGZfdXJsID0gImh0dHBzOi8vY29sbGVnZXRzYXJpdHN5bm8ubXNrb2JyLnJ1IiArIGkuYVsnaHJlZiddCiAgICAgICAgIyDQlNC-0LHQsNCy0LvRj9C10Lwg0YHRgdGL0LvQutGDINCyINGB0L_QuNGB0L7QuiBsc3QKICAgICAgICBsc3QuYXBwZW5kKHBkZl91cmwpCiAjINCS0YvQv9C-0LvQvdGP0LXQvCDQt9Cw0L_RgNC-0YEgR0VUINC_0L4g0YHRgdGL0LvQutC1INC90LAgUERGINGE0LDQudC7INC4INC30LDQv9C40YHRi9Cy0LDQtdC8INC_0L7Qu9GD0YfQtdC90L3Ri9C1INC00LDQvdC90YvQtSDQsiDRhNCw0LnQuyDQvdCwINC00LjRgdC6CnJlc3BvbnNlID0gcmVxdWVzdHMuZ2V0KHBkZl91cmwpCmZpbGVuYW1lID0gcGRmX3VybC5zcGxpdCgnLycpWy0xXQp3aXRoIG9wZW4oZmlsZW5hbWUsICd3YicpIGFzIGY6CiAgICBmLndyaXRlKHJlc3BvbnNlLmNvbnRlbnQpCiAgICBlbHNlOgogICAgICAgIGNvbnRpbnVl&theme=midnight&background=true&darkMode=true&language=python&width=908&title=python-parser" width="760" height="440" style="margin-left: 20px;">
	<p>Вот первая часть подходит к концу. Давайте посмотрим как можно добавить парсер в бота</p>
	<h3>Часть 2</h3>
<p>Импортируются необходимые модули, такие как Bot, Dispatcher, types (из aiogram), logging, requests, BeautifulSoup и os. </p>
		<img src="https://ray.so/#code=ZnJvbSBhaW9ncmFtIGltcG9ydCBCb3QsIERpc3BhdGNoZXIsIGV4ZWN1dG9yLCB0eXBlcwppbXBvcnQgbG9nZ2luZwppbXBvcnQgcmVxdWVzdHMKZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXAgYXMgQlMKZnJvbSBhaW9ncmFtIGltcG9ydCB0eXBlcwppbXBvcnQgb3MKZnJvbSBhaW9ncmFtLnR5cGVzIGltcG9ydCBNZXNzYWdlLCBNZWRpYUdyb3VwLCBJbnB1dE1lZGlhRG9jdW1lbnQKaW1wb3J0IHJhbmRvbQ&theme=midnight&background=true&darkMode=true&language=python&width=908&title=python-parser" width="700" height="200" style="margin-left: 20px;">
<p>Далее определяется токен для бота, создается ссылка на бота и его диспетчер (Dispatcher). </p>
		<img src="https://ray.so/#code=bG9nZ2luZy5iYXNpY0NvbmZpZyhsZXZlbD1sb2dnaW5nLklORk8pClRPS0VOID0gIjYwNjEzMjgyMDQ6QUFHZlZPR2JuZjgxbkdUWlhfQ0RsVlR0TEk3dzV3dFFrNEUiCmJvdCA9IEJvdCh0b2tlbj1UT0tFTikKZHAgPSBEaXNwYXRjaGVyKGJvdCk&theme=midnight&background=true&darkMode=true&language=python&width=908&title=python-parser" width="600" height="150" style="margin-left: 20px;">
<p>Далее определяется функция "send_First_Course", которая получает расписание для колледжа с помощью парсинга веб-страницы с помощью requests и BeautifulSoup. Затем проверяется, содержит ли файл "Расписание учебных занятий 1 курс с", и если это так, получается ссылка на файл и он в будущем должен будет загружается и сохранятся на диск.</p>
		<img src="https://ray.so/#code=ZGVmIHNlbmRfRmlyc3RfQ291cnNlKCk6CiAgICByZXNwID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2NvbGxlZ2V0c2FyaXRzeW5vLm1za29ici5ydS91Y2hhc2hpbXN5YS9yYXNwaXNhbmllLWthbmlrdWx5IikKICAgIGJzID0gQlMocmVzcC50ZXh0LCAiaHRtbC5wYXJzZXIiKQogICAgY2wgPSBicy5maW5kKCJkaXYiLCBjbGFzc18gPSAiZm9sZGVycyIpCiAgICBjbDEgPSBjbC5maW5kX2FsbCgibGkiLCBjbGFzc18gPSAicGRmIikKICAgIGZvciBpIGluIGNsMToKICAgICAgICBpZiAi0KDQsNGB0L_QuNGB0LDQvdC40LUg0YPRh9C10LHQvdGL0YUg0LfQsNC90Y_RgtC40LkgMSDQutGD0YDRgSDRgSIgaW4gaS50ZXh0OgogICAgICAgICAgICBwZGZfdXJsID0gImh0dHBzOi8vY29sbGVnZXRzYXJpdHN5bm8ubXNrb2JyLnJ1IiArIGkuYVsnaHJlZiddCiAgICAgICAgICAgICAjINCe0L_RgNC10LTQtdC70Y_QtdC8INGE0YPQvdC60YbQuNGOINC-0YLQv9GA0LDQstC60Lgg0YLQtdC60YHRgtC-0LLRi9GFINGB0L7QvtCx0YnQtdC90LjQuSDQsiDRh9Cw0YIgVGVsZWdyYW0KICAgICAgICBhc3luYyBkZWYgc2VuZF90ZXh0KGNoYXRfaWQ6IGludCwgbWVzc2FnZV90ZXh0OiBzdHIpOgogICAgICAgICAgICBhd2FpdCBib3Quc2VuZF9tZXNzYWdlKGNoYXRfaWQ9Y2hhdF9pZCwgdGV4dD1tZXNzYWdlX3RleHQpCiAgICAgICAgIyDQktGL0L_QvtC70L3Rj9C10Lwg0LfQsNC_0YDQvtGBIEdFVCDQv9C-INGB0YHRi9C70LrQtSDQvdCwIFBERiDRhNCw0LnQuyDQuCDQt9Cw0L_QuNGB0YvQstCw0LXQvCDQv9C-0LvRg9GH0LXQvdC90YvQtSDQtNCw0L3QvdGL0LUg0LIg0YTQsNC50Lsg0L3QsCDQtNC40YHQugogICAgICAgIHJlc3BvbnNlID0gcmVxdWVzdHMuZ2V0KHBkZl91cmwpCiAgICAgICAgZmlsZW5hbWUgPSBwZGZfdXJsLnNwbGl0KCcvJylbLTFdCgogICAgICAgIHdpdGggb3BlbihmaWxlbmFtZSwgJ3diJykgYXMgZjoKICAgICAgICAgICAgZi53cml0ZShyZXNwb25zZS5jb250ZW50KQogICAgZWxzZToKICAgICAgICBjb250aW51ZSAgICAgICAgICAgIA&theme=midnight&background=true&darkMode=true&language=python&width=908&title=python-parser&padding=32" width="800" height="430" style="margin-left: 20px;">
		<p>Затем определяются обработчики команд "/command1", "/command2" и "/command3". "/command1" отправляет URL-адрес файла расписания в ответ на запрос пользователя. "/command2" отправляет сам файл в ответ на запрос пользователя, а затем удаляет его с диска. "/command3" отправляет сообщение с ссылкой на чат на Telegram.</p>
		<img src="https://ray.so/#code=ICMg0J7Qv9GA0LXQtNC10LvRj9C10Lwg0L7QsdGA0LDQsdC-0YLRh9C40Log0LrQvtC80LDQvdC00YsgY29tbWFuZDEg0LTQu9GPINC-0YLQv9GA0LDQstC60Lgg0L7QtNC90L7Qs9C-INC60L7QvdC60YDQtdGC0L3QvtCz0L4g0YTQsNC50LvQsAogICAgICAgIGFzeW5jIGRlZiBzZW5kX3RleHQoY2hhdF9pZDogaW50LCBtZXNzYWdlX3RleHQ6IHN0cik6CiAgICAgICAgICAgIGF3YWl0IGJvdC5zZW5kX21lc3NhZ2UoY2hhdF9pZD1jaGF0X2lkLCB0ZXh0PW1lc3NhZ2VfdGV4dCkKICAgICAgICBAZHAubWVzc2FnZV9oYW5kbGVyKGNvbW1hbmRzPVsnY29tbWFuZDEnXSkKICAgICAgICBhc3luYyBkZWYgc2VuZF9tZXNzYWdlX2hhbmRsZXIobWVzc2FnZTogdHlwZXMuTWVzc2FnZSk6CiAgICAgICAgICAgIGNoYXRfaWQgPSBtZXNzYWdlLmNoYXQuaWQKICAgICAgICAgICAgbWVzc2FnZV90ZXh0ID0gcGRmX3VybAogICAgICAgICAgICBhd2FpdCBzZW5kX3RleHQoY2hhdF9pZCwgbWVzc2FnZV90ZXh0KQoKICAgICAgICAjINCe0L_RgNC10LTQtdC70Y_QtdC8INC-0LHRgNCw0LHQvtGC0YfQuNC6INC60L7QvNCw0L3QtNGLIGNvbW1hbmQyINC00LvRjyDQvtGC0L_RgNCw0LLQutC4IFBERiDRhNCw0LnQu9CwINCyINGH0LDRgiBUZWxlZ3JhbQogICAgICAgIEBkcC5tZXNzYWdlX2hhbmRsZXIoY29tbWFuZHM9Wydjb21tYW5kMiddKQogICAgICAgIGFzeW5jIGRlZiBzZW5kX3BkZihtZXNzYWdlOiBNZXNzYWdlKToKICAgICAgICAgICAgIyDQodC-0LfQtNCw0LXQvCDQvtCx0YrQtdC60YIgTWVkaWFHcm91cCDQtNC70Y8g0L7RgtC_0YDQsNCy0LrQuCDRhNCw0LnQu9CwINC60LDQuiDQtNC-0LrRg9C80LXQvdGC0LAKICAgICAgICAgICAgbWVkaWEgPSBNZWRpYUdyb3VwKCkKICAgICAgICAgICAgbWVkaWEuYXR0YWNoKElucHV0TWVkaWFEb2N1bWVudChvcGVuKGZpbGVuYW1lLCAncmInKSkpCiAgICAgICAgICAgIGF3YWl0IG1lc3NhZ2UucmVwbHlfbWVkaWFfZ3JvdXAobWVkaWE9bWVkaWEpCgogICAgICAgICMg0J7Qv9GA0LXQtNC10LvRj9C10Lwg0L7QsdGA0LDQsdC-0YLRh9C40Log0LrQvtC80LDQvdC00YsgY29tbWFuZDMg0LTQu9GPINC-0YLQv9GA0LDQstC60Lgg0YHRgdGL0LvQutC4INC90LAg0LrQsNC90LDQuyDQsiBUZWxlZ3JhbQogICAgICAgIEBkcC5tZXNzYWdlX2hhbmRsZXIoY29tbWFuZHM9Wydjb21tYW5kMyddKQogICAgICAgIGFzeW5jIGRlZiBlY2hvKG1lc3NhZ2U6IHR5cGVzLk1lc3NhZ2UpOgogICAgICAgICAgICBhd2FpdCBtZXNzYWdlLmFuc3dlcigiaHR0cHM6Ly90Lm1lL0hlbGxvQ29kZVdPUkxEIikgICAgIA&theme=midnight&background=true&darkMode=true&language=python&width=908&title=python-parser&padding=32" width="800" height="540" style="margin-left: 20px;">
<p>Далее определяется основное тело кода с функцией "executor.start_polling()". Эта функция запускает бота, который начинает слушать сообщения от пользователей и отправлять ответы в соответствии с определенными командами.</p>
		<img src="https://ray.so/#code=IyDQktGL0LfQvtCyINCz0LvQsNCy0L3QvtC5INGE0YPQvdC60YbQuNC4CnNlbmRfRmlyc3RfQ291cnNlKCkKIyDQl9Cw0L_Rg9GB0Log0L_RgNC-0LXQutGC0LAKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIGV4ZWN1dG9yLnN0YXJ0X3BvbGxpbmcoZHAsc2tpcF91cGRhdGVzID0gVHJ1ZSkgICA&theme=midnight&background=true&darkMode=true&language=python&width=908&title=python-parser&padding=32" width="580" height="110" style="margin-left: 20px;">
<p>Ну чтож на этом все. Надеюсь вы смогли подчеркнуть, что то полезное для себя!</p>
      </article>
      <!-- Дополнительный контент также может быть вложен в основной контент -->
      <aside>
        <h2>Связанные темы</h2>
        <ul>
          <li><a href="#" style="text-decoration: none; ">Роадмап по python</a></li>
          <li><a href="#" style="text-decoration: none; ">Прикольчики про Google</a></li>
          <li><a href="#" style="text-decoration: none; ">Задчи для собеседований</a></li>
        </ul>
      </aside>
</div>
    </main>
<!-- Yandex.RTB R-A-2255536-2 -->
<div id="yandex_rtb_R-A-2255536-2"></div>
<script>window.yaContextCb.push(()=>{
  Ya.Context.AdvManager.render({
    renderTo: 'yandex_rtb_R-A-2255536-2',
    blockId: 'R-A-2255536-2'
  })
})</script>

</div>
  </body>
</html>
